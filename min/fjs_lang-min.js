/* FairyJS zysoft.github.com/FairyJS | github.com/zysoft/FairyJS/blob/master/LICENSE */
$$.fjs.lang={currentLang:$$.fjs.config.defaultLang,knownLangs:[],register:function(){var a=$$("html").attr("data-fjs-lang");if(!a){a=$$.fjs.config.defaultLang}if(a){this.set(a)}},set:function(b){this.currentLang=b;if(this.knownLangs.indexOf(b)!=-1){this.localizePage();return this}var a=document.createElement("SCRIPT");a.src=$$.fjs.config.langPath+$$.fjs.config.langFile.withVals(this.currentLang)+"?r="+Math.random();a.type="text/javascript";$$("head")[0].appendChild(a);return this},addEntity:function(b,a,d){var c={};c[a]=d;$$.fjs.lang[b]=$$.extend({},$$.fjs.lang[b],c);$$.fjs.log("Added custom localization entity for "+b);return this},add:function(b,a){this.knownLangs.push(b);$$.fjs.lang[b]=$$.extend({},$$.fjs.lang[b],a);$$.fjs.log("Registered language "+b);this.localizePage();return this},localizePage:function(){$$("*[data-fjs-localizable]").each(function(){if($$(this).is(":input")){$$(this).val($$_($$(this).attr("data-fjs-localizable")))}else{$$(this).html($$_($$(this).attr("data-fjs-localizable")))}})}};$$.fjs.extendConfiguration({langFile:"fjs_%1.js",langPath:"lang/",defaultLang:null});window.$$_=function(d){if($$.fjs.lang[$$.fjs.lang.currentLang]&&$$.fjs.lang[$$.fjs.lang.currentLang][d]){if(arguments.length==1){return $$.fjs.lang[$$.fjs.lang.currentLang][d]}var a=[];for(var b=1,e=arguments.length;b<e;b++){a.push(arguments[b])}return String.prototype.withVals.apply($$.fjs.lang[$$.fjs.lang.currentLang][d],a)}if($$.fjs.config.debugMode){$$.fjs.warn("Unlocalized entity: "+d)}return d};
