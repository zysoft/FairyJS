String.prototype.withVal=function(a){return this.replace(/%@/,a)};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(d,b){b=b?parseInt(b):0;for(var a=0,e=this.length;a<e;a++){if(a>=b&&this[a]==d){return a}}return -1}}if(!window.console){var names=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(i in names){window.console[names[i]]=function(){}}}$$=jQuery;$$.fjsPlugin={register:function(){}};$$.fjs={config:{debugMode:false,verboseMode:false},plugins:[],init:function(){for(var a=0,d=$$.fjs.plugins.length;a<d;a++){var b=$$.fjs.plugins[a];$$.fjs[b].register();$$.fjs.log('Activated plugin "'+$$.fjs.plugins[a]+'"')}$$.fjs.log("FairyJS core intialized")},configure:function(a){$$.extend(this.config,a);return this},extendConfiguration:function(a){this.config=$$.extend({},a,this.config);return this},log:function(a){if(this.config.verboseMode){if(typeof(a)=="string"){a="["+new Date()+"] "+a}console.log(a)}return this},warn:function(a){if(this.config.debugMode){if(typeof(a)=="string"){a="["+new Date()+"] "+a}console.warn(a)}return this},error:function(a){if(this.config.debugMode){if(typeof(a)=="string"){a="["+new Date()+"] "+a}console.error(a)}return this},plugin:function(a,d,e){if(e){for(var b=0,f=e.length;b<f;b++){if($$.fjs.plugins.indexOf(e[b])==-1){if($$.fjs.config.debugMode){$$.fjs.error('FairyJS plugin "'+a+'" failed to load as it requires the following plugins to be loaded: "'+e.join('", "')+'"')}return this}}}$$.fjs[a]=$$.extend({},$$.fjsPlugin,d);$$.fjs.plugins.push(a);$$.fjs.log('Loaded plugin "'+a+'"');return this},hasPlugin:function(a){return $$.fjs.plugins.indexOf(a)!=-1},subscribe:function(a,b){$$(document).bind(a,b);$$.fjs.log('Got subscribtion to "'+a+'"')},fire:function(d){var b=[];for(var a=1,e=arguments.length;a<e;a++){b.push(arguments[a])}$$.fjs.log('Firing "'+d+'"');$$(document).trigger(d,b)}};$$($$.fjs.init);