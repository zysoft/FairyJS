<h1>Reference Guide :: fjs_lang.js</h1>
<h2>Basic information</h2>
<p>
    Lang plugin is accessible via <strong>$$.fjs.lang</strong> and enables localization
    support for your website. Having it in JavaScript allows you localizing your site on-the-fly wihtout
    reloading the page.
</p>
<h2>HTML attributes provided</h2>
<table class="methods attributes">
    <tr>
        <th>Attribute</th>
        <th>Applicable to</th>
        <th>Value</th>
        <th>Description</th>
    </tr>
    <!--  data-fjs-lang  -->
    <tr>
        <td class="method">data-fjs-lang</td>
        <td class="params">&lt;html&gt;</td>
        <td class="params">Language code</td>
        <td class="annotation">Specifies page default language</td>
    </tr>
    <!--  data-fjs-localizable  -->
    <tr>
        <td class="method">data-fjs-localizable</td>
        <td class="params">Any</td>
        <td class="params">Entity text</td>
        <td class="annotation">Localizable entity</td>
    </tr>
</table>
<h2>Configuration options</h2>
<table class="methods attributes">
    <tr>
        <th>Option</th>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <!--  $$.fjs.lang.langFile  -->
    <tr>
        <td class="method">langFile</td>
        <td class="type">String</td>
        <td class="annotation">
            Specifies language filename mask for autoload.
            <br/>
            Default - fjs_%@.js
        </td>
    </tr>
    <!--  $$.fjs.lang.langPath  -->
    <tr>
        <td class="method">langPath</td>
        <td class="type">String</td>
        <td class="annotation">
            Specifies Path for language files to autoload from. Trailing slash is required!
            <br/>
            Default - lang/
        </td>
    </tr>
    <!--  $$.fjs.lang.defaultLang  -->
    <tr>
        <td class="method">defaultLang</td>
        <td class="type">String</td>
        <td class="annotation">
            Specifies default language code. It will be used if nothing is specified with <span>data-fjs-lang</span>
            <br/>
            Default - null
        </td>
    </tr>
</table>
<h3>Configuration example</h3>
<script type="syntaxhighlighter" class="brush:html;ruler:true;toolbar:false;highlight:[6,7,8,9,10,11,12,13,14]"><![CDATA[
    <!DOCTYPE html>
    <html>
        <head>
            &lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"&gt;&lt;/script&gt;
            &lt;script type="text/javascript" src="js/fjs-min.js"&gt;&lt;/script&gt;
            &lt;script type="text/javascript"&gt;
                $$.fjs.configure({
                debugMode:   true,
                verboseMode: true,
                langFile:    '%@.js', //Means en-us.js, ru-ru.js, etc.
                langPathL    '/i18n/',
                defaultLang: 'en-us'
                });
            &lt;/script&gt;
        </head>
        <body>
            ...
        </body>
    </html>
    ]]></script>
<div class="clear"></div>
<h2>Generated events</h2>
<p>None</p>
<h2>JavaScript interface</h2>
<table class="methods">
    <tr>
        <th>Method</th>
        <th>Parameters</th>
        <th>Return</th>
        <th>Description</th>
    </tr>
    <tr>
        <td class="method">$$_(
            <span>entity</span>)
        <td class="params">
            <table>
                <tr>
                    <td class="type">String</td>
                    <td>
                        <div class="pname">entity</div>
                        Text entity        
                    </td>
                </tr>
            </table>
        </td>
        <td class="params">
            <table>
                <tr>
                    <td class="type">String</td>
                    <td>
                        <div class="pname"></div>
                        Entity translation                   
                    </td>
                </tr>
            </table>
        </td>
        <td class="annotation">
            Shortcut for runtime translation. Translates entity to the currently active language.
            <br/>
            Can be used with extension <span>String.withVal()</span>.
            <pre class="brush:js;ruler:true;toolbar:false">
                $$_('Ent1');
                $$_('Some entity for %@').withVal('Test'); //%@ will be replaced with "Test"
            </pre>
        </td>
    </tr>
    <tr>
        <td class="method">set(
            <span>lang</span>)
        <td class="params">
            <table>
                <tr>
                    <td class="type">String</td>
                    <td>
                        <div class="pname">lang</div>
                        Language code                    
                    </td>
                </tr>
            </table>
        </td>
        <td class="params">
            <table>
                <tr>
                    <td class="type">Object</td>
                    <td>
                        <div class="pname">$$.fjs.lang</div>
                        Self instance
                    </td>
                </tr>
            </table>
        </td>
        <td class="annotation">
            Activates language (by lang code)
            Loads appropriate lang file if needed            
            <pre class="brush:js;ruler:true;toolbar:false">
                $$.fjs.lang.set('en-us');
            </pre>
        </td>
    </tr>
    <tr>
        <td class="method">addEntity(
            <span>langName</span>, <span>entity</span>, <span>translation</span>        )
        <td class="params">
            <table>
                <tr>
                    <td class="type">String</td>
                    <td>
                        <div class="pname">langName</div>
                        Language code                    
                    </td>
                </tr>
                <tr>
                    <td class="type">String</td>
                    <td>
                        <div class="pname">entity</div>
                        Text entity                    
                    </td>
                </tr>
                <tr>
                    <td class="type">String</td>
                    <td>
                        <div class="pname">translation</div>
                        Text entity translation to target language                    
                    </td>
                </tr>
            </table>
        </td>
        <td class="params">
            <table>
                <tr>
                    <td class="type">Object</td>
                    <td>
                        <div class="pname">$$.fjs.lang</div>
                        Self instance                 
                    </td>
                </tr>
            </table>
        </td>
        <td class="annotation">
            Adds entity to the translation table for the given language
            <pre class="brush:js;ruler:true;toolbar:false">
                $$.fjs.lang.addEntity('en-us', 'Ent1', 'Test entity translation');
            </pre>
        </td>
    </tr>
    <tr>
        <td class="method">add(
            <span>langName</span>, <span>definition</span>        )
        <td class="params">
            <table>
                <tr>
                    <td class="type">String</td>
                    <td>
                        <div class="pname">langName</div>
                        Language code                    
                    </td>
                </tr>
                <tr>
                    <td class="type">Object</td>
                    <td>
                        <div class="pname">definition</div>
                        Language entities with translations                    
                    </td>
                </tr>
            </table>
        </td>
        <td class="params">
            <table>
                <tr>
                    <td class="type">Object</td>
                    <td>
                        <div class="pname">$$.fjs.lang</div>
                        Self instance                  
                    </td>
                </tr>
            </table>
        </td>
        <td class="annotation">
            Registers language definition.
            <pre class="brush:js;ruler:true;toolbar:false">
                $$.fjs.lang.add('en-us', {
                    'Ent1' : 'Test entity1 translation',
                    'Ent2' : 'Test entity2 translation'
                });
            </pre>

        </td>
    </tr>
    <tr>
        <td class="method">localizePage(
            )
        <td class="params">
            <table>
                <tr>
                    <td>
                        None
                    </td>
                </tr>
            </table>
        </td>
        <td class="params">
            <table>
                <tr>
                    <td class="type">void</td>
                    <td>
                        <div class="pname"></div>
                    </td>
                </tr>
            </table>
        </td>
        <td class="annotation">
            Localizes entry page according to fjs:localizable attribute
            <pre class="brush:js;ruler:true;toolbar:false">
                $$.fjs.localizePage();
            </pre>
        </td>
    </tr>
</table>
